<!DOCTYPE html>
<html lang="ru">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rails Club 2014. Как все прошло</title>

    <meta name="viewport" content="width=device-width">

    <link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'/>
    <link href='/favicon.ico' rel='icon' type='image/x-icon'/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

</head>


    <body>

    <header class="site-header site-header-compact">

  <div class="wrap">
    <div class="logo-image"></div>

    <a class="site-title" href="/">Сергей Удалов</a>

      <nav class="site-nav">
        <div class="pages">
          
            
              <a class="page-link capitalize" href="/about/">Обо мне</a>

            
          
            
          
            
          
            
              <a class="page-link capitalize" href="/политика/index.html">политика</a>

            
          
            
              <a class="page-link capitalize" href="/история/index.html">история</a>

            
          
            
              <a class="page-link capitalize" href="/tech/index.html">tech</a>

            
          
        </div>
      </nav>
  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <script src="/js/jquery.min.js"></script>

<div class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <!-- Google Authorship and Publisher Markup -->
<link rel="author" href="https://plus.google.com/u/0/+%D0%A1%D0%B5%D1%80%D0%B3%D0%B5%D0%B9%D0%A3%D0%B4%D0%B0%D0%BB%D0%BE%D0%B2/posts"/>
<link rel="publisher" href=”https://plus.google.com/u/0/+%D0%A1%D0%B5%D1%80%D0%B3%D0%B5%D0%B9%D0%A3%D0%B4%D0%B0%D0%BB%D0%BE%D0%B2"/>

<div itemprop="author" itemscope itemtype="http://schema.org/Person" style="display:none">
  <meta itemprop="name" content="Сергей Удалов" />
  <meta itemprop="url" content="http://www.sergei-udalov.ru/about/" />
  <meta content="http://www.sergei-udalov.ru/images/avatar_lg.jpeg" itemprop="image" />
  <meta itemprop="jobTitle" content="Программист" />

  <div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
    <span itemprop="addressLocality">Электроугли</span>,
    <span itemprop="addressRegion">Россия, МО</span>
  </div>

  <meta itemprop="telephone" content="+7 (916) 6272658" />
  <meta content="sergei.udalov@gmail.com" itemprop="email" />

  <meta itemprop="birthDate" content="1985-05-05" />
  <meta itemprop="gender" content="male" />
  <meta itemprop="description" content="Родился в 1985 году,  в городе Пушкино (МО). Окончил факультет "прикладной математики и физики" Московского Авиационного Института в 2008 году по специальности 'программирование'. Я люблю футбол и играю в районном чемпионате. На жизнь зарабатываю программированием. Интересуюсь физикой, историей, музыкой и политикой." />
</div>



  <meta itemprop="dateCreated" content="2014-09-30" />
  <meta itemprop="dateModified" content="" />
  <meta itemprop="image" content="http://www.sergei-udalov.ru/images/avatar_md.jpeg" />
  <meta itemprop="description" content="На этих выходных сходил с коллегами из SeoPult на ежегодную конференцию RailsClub 2014. Встретил много друзей, с которыми работали вместе в других компаниях. Еще я выиграл приз." />

  <meta itemprop="image" content="http://www.sergei-udalov.ru/images/avatar_md.jpeg" />

  <header class="post-header">
    <h1 itemprop="name">Rails Club 2014. Как все прошло</h1>

    <span class="meta">30.09.2014</span>

    
    <br />
    <p class="tags"><span class="name">Ключевые слова:</span> <span class="tags" itemprop="keywords">Rails Club, ruby</span></p>
    


  </header>

  <link href="/css/toc.css" media="all" rel="stylesheet" />

  <div id="toc-container" style="display: none">
    <div id="toc"></div>
  </div>


  <article class="post-content" itemprop="articleBody">
  <p>На этих выходных сходил с коллегами из SeoPult на ежегодную конференцию <a href="http://railsclub.ru">Rails Club</a>. Встретил много друзей, с которыми работали вместе в других компаниях. Еще я выиграл приз.</p>

<p><img src="/images/posts/railsclub/prize.jpg" alt="Рубизатор" /></p>

<p>Хочу рассказать о своих впечатлениях о докладах и что я из них вынес.</p>

<h2 id="writing-fast-ruby---">Writing Fast Ruby. Эрик Майкл-Обер</h2>

<p><img src="/images/posts/railsclub/eric.jpg" alt="Eric" /></p>

<p>Хорошо, что этот доклад начался с небольшим опозданием: я как раз успел. Эрик рассказал про то, что часто интуиция подводит нас в определении того, какой код на ruby будет быстрее.</p>

<ul>
  <li>иногда быстрее yield, иногда block</li>
  <li>не используйте gsub, если достаточно sub или tr</li>
  <li>не стоит сроить логику на exception-ах, если можно обойтись if/else/case, потому как это медленно</li>
  <li>если код тормозит, выкинте из него ActiveSupport</li>
</ul>

<p>И главная рекомендация, которую Эрик дал в самом начале: используйте <a href="https://github.com/evanphx/benchmark-ips">benchmark-ips</a>:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;benchmark/ips&#39;</span>

<span class="no">Benchmark</span><span class="o">.</span><span class="n">ips</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
  <span class="n">x</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s2">&quot;addition&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">}</span>

   <span class="n">x</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s2">&quot;addition2&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">times</span><span class="o">|</span>
     <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

     <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">times</span>
       <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
       <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
     <span class="k">end</span>
   <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>В отличие от обычного benchmark-а он сам определяет количество итераций, которые нужно прогнать, чтобы сравнить 2 куска кода.</p>

<h2 id="section">Работы с файлами в больших проектах. Кирилл Горин</h2>

<p><img src="/images/posts/railsclub/kirill.jpg" alt="" /></p>

<p>Интересный рассказ про то, как это реально работает в Coub. Кирилл обрисовал проблемы, с которыми им пришлось столкнуться. Было интересно.</p>

<h2 id="the-elements-of-style-in-ruby--">The Elements of Style in Ruby. Божидар Бацов</h2>

<p><img src="/images/posts/railsclub/bojidar.jpg" alt="" /></p>

<p>Во время доклада складывалось ощущение, что <a href="https://github.com/bbatsov">Божидар</a> приехал из негритянского квартала в Болгарии. Зачем-то несколько раз он выразился английским матерком. Видимо, Болгария совсем небольшая страна и похвастаться знанием болгарского английского там было не перед кем.</p>

<p>Что касается самого материала, то была предпринята интересная попытка взглянуть на проблему оформления программного кода с новой стороны.</p>

<p>Кроме этого докладчик анонсировал свою библиотеку <a href="https://github.com/bbatsov/rubocop">Rubocop</a> контроля за оформлением ruby-сода.</p>

<p>Хорошо подойдет для интеграции в CI системы.</p>

<h2 id="section-1">Интеграция всех аспектов разработки в единый процесс. Александр Балашов</h2>

<p><img src="/images/posts/railsclub/alex-inter.jpeg" alt="" /></p>

<p>Если одним предложением: используйте CI-системы и pull-реквесты в вашем воркфлоу.</p>

<ul>
  <li><a href="https://github.com/presidentbeef/brakeman">brakeman</a> – система поиска уязвимостей в Rails-приложении</li>
  <li><a href="https://codeclimate.com">code climate</a> – анализ качества кода, покрытие тестами</li>
  <li><a href="https://teatro.io/">teatro.io</a> – staging-сервер для каждого разработчика (использует docker)</li>
</ul>

<p>Вообще, хорошая идея и у нас в компании настроить проект через <a href="https://www.docker.com/">docker</a>, чтобы каждый разработчик имел одинакувую среду.</p>

<h2 id="ror---">Круглый стол: бизнес логика в ROR приложении. Александр Даниленко</h2>

<p><img src="/images/posts/railsclub/table.jpg" alt="" /></p>

<p>На доклад опоздал. Если в 2 словах, то: храните логику в правильном месте. Все зависит от ситуации. Кто бы сомневался :)</p>

<p>Посоветовали книги:</p>

<ul>
  <li>“Patterns in Enterprise Software” от Мартина Фаулера</li>
  <li>Growing Rails Applications in Practice</li>
  <li>Objects on Rails</li>
</ul>

<h2 id="the-future-of-rack--">The Future of Rack. Аарон Паттерсон</h2>

<p><img src="/images/posts/railsclub/aaron2.jpg" alt="" /></p>

<p>Жизнерадостный, содержательный, оставляющий очень живое впечателение доклад и сам докладчик. Ruby-код, картинки животных и самоироничные реплики.</p>

<p>Аарон рассказал про то, как много объектов участвует даже в простых операциях с участием Rails и как он работает над этим. Еще рассказал про то, какие проблемы есть с запуском тестов с участием ActiveRecord в несколько процессов и какие пути решения есть. Собственно, проблемы возникают, если у вас используются fixtures… Не используйте их! :) Используйте <a href="https://github.com/thoughtbot/factory_girl">FactoryGirl</a></p>

<p><img src="/images/posts/railsclub/aaron.jpg" alt="Аарон Паттерсон на Rails Club 2014" /></p>

<p>Еще он рассказал про свое видение Rack и то, как это сейчас. Считает, что нужно разделить rack-модули на 3 типа, а не как сейчас – только один:</p>

<ul>
  <li>фильтр: добавляет before/after обработчик</li>
  <li>“что-то там”: обрабатывает, но не “что-то там”, например сжатие GZIP</li>
  <li>обычный rack, как сейчас</li>
</ul>

<p>Свое видение отражается в новой библиотеке <a href="https://github.com/tenderlove/the_metal">the_metal</a>.</p>

<h2 id="big-data--ruby--">Big Data и Ruby. Равиль Байрамкалин</h2>

<p>Map и Reduce.</p>

<h2 id="section-2">Абстрактные машины во имя добра. Кирилл Тимофеев</h2>

<p><img src="/images/posts/railsclub/meme.jpg" alt="" /></p>

<p>Можно показать котика и.. продолжить терять адутиторию. Кирилл это доказал. Показав целый зоопарк милых зверюшек, Кирилл не смог скрыть главного: сказать было нечего.</p>

<p>Было немного теории из лямбда-исчислений. Никакой новизны, никакой практической нагрузки, никакого ruby! Последнее было смертельно. Все с нетерпением ждали, когда доклад закончится. Вопрос был только 1: “Ты рассказал о том, чем мы пожертвовали, начав писать на ruby?”. </p>

<h2 id="concurent-systems-in-ruby--">Concurent Systems in Ruby. Ждонас Никлас</h2>

<p><img src="/images/posts/railsclub/jonas.jpeg" alt="" /></p>

<p>Наглядно про виды конкурентного исполнения ruby-кода, что такое thread-safe и GIL. Автор порекомендовал обратить внимание на библиотеки:</p>

<ul>
  <li><a href="https://github.com/ruby-concurrency/atomic">Atomic</a> – thread-safe объекты</li>
  <li><a href="http://celluloid.io/">Celluloid</a> – Actor-based программирование</li>
  <li><a href="https://github.com/hamstergem/hamster">Hamster</a> – набор классов по concurrent ruby</li>
  <li><a href="https://github.com/ruby-concurrency/concurrent-ruby">Concurent-ruby</a> – еще один набор классов</li>
</ul>

<p>Кроме этого порекомендовал книгу “<a href="https://pragprog.com/book/jsthreads/working-with-ruby-threads">Working with Ruby Threads</a>”.</p>

<h2 id="all-the-little-things--">All The Little Things. Сенди Метц</h2>

<p><img src="/images/posts/railsclub/sendi.jpeg" alt="" /></p>

<p>Сенди не смогла приехать живьем и выступала через скайп. Она не вставляла котиков и шутки ради шуток, при этом доклад держал в напряжении аудиторию до самой развязки. Доклад был построен, как разбор одного случая из жизни программиста (самой Сенди), когда пришлось столкнуться с задачей исправления старого и запутанного метода.</p>

<p>Элегантный рефакторинг через тесты. Сразу захотелось что-то зарефакторить у себя в проекте.</p>

<p>Рекомендации:</p>

<ul>
  <li>книга <a href="http://www.poodr.com/">Practical Object-Oriented Design in Ruby</a></li>
  <li><a href="https://github.com/makaroni4/sandi_meter">SandiMeter</a> – статический анализатор ruby-кода в соответсвии с правилам Седи</li>
</ul>

<h2 id="sorcery----ruby--">Sorcery и паттерны в Ruby. Кирилл Шатров</h2>

<p><img src="/images/posts/railsclub/auth.jpg" alt="" /></p>

<p>Попытка рассказать, где хранить бизнес-логику в rails-приложении. Но мы уже знаем, что хранить ее нужно в правильном месте (“right place”). А еще, для того, чтобы перестать быть ActiveRecord-программистом, нужно вместо 1 AR-класса создать еще несколько.</p>

<p>Докладчик порекомендовал библиотеку для “аутентификенции” <a href="https://github.com/NoamB/sorcery">sorcery</a> и отговаривал от <a href="https://github.com/plataformatec/devise">Devise</a>.</p>

<h2 id="use-case-driven-architecture--">Use Case Driven Architecture. Николай Рыжиков</h2>

<p>Один из лучших докладов конференции. Простым языком, спокойно и содержательно. Надеюсь услышать докладчика с полноформатным выступлением в будущем.</p>

<h2 id="chewy----elastic-search--">Chewy - удобный Elastic Search. Аркадий Забажанов</h2>

<p>Самый пострадавший от технических сбоев доклад. Презентация никак не заводилась.</p>

<p>Пользуйтесь для поиска <a href="http://www.elasticsearch.org/">Elasticsearch</a>, потому что это быстро и хорошо. Для ruby используйте библиотеку <a href="https://github.com/toptal/chewy">Chewy</a>.</p>

<h2 id="section-3">Заключение</h2>

<p><img src="/images/posts/railsclub/all.jpeg" alt="" /></p>

<p>Рекмендованные библиотеки, сервисы и инструменты:</p>

<ul>
  <li><a href="https://github.com/evanphx/benchmark-ips">benchmark-ips</a> – измерение скорости</li>
  <li><a href="https://github.com/bbatsov/rubocop">Rubocop</a> – анализатор кода</li>
  <li><a href="https://github.com/presidentbeef/brakeman">brakeman</a> – система поиска уязвимостей в Rails-приложении</li>
  <li><a href="https://codeclimate.com">code climate</a> – анализ качества кода, покрытие тестами</li>
  <li><a href="https://teatro.io/">teatro.io</a> – staging-сервер для каждого разработчика (использует docker)</li>
  <li><a href="https://www.docker.com/">docker</a> – деплой через виртуалки</li>
  <li><a href="https://github.com/thoughtbot/factory_girl">FactoryGirl</a> – вместо fixtures для тестов</li>
  <li><a href="https://github.com/tenderlove/the_metal">the_metal</a> –  веббиблиотека для построения веб-сервера, новое видение rack</li>
  <li><a href="https://github.com/ruby-concurrency/atomic">Atomic</a> – thread-safe объекты</li>
  <li><a href="http://celluloid.io/">Celluloid</a> – Actor-based программирование</li>
  <li><a href="https://github.com/hamstergem/hamster">Hamster</a> – набор классов по concurrent ruby</li>
  <li><a href="https://github.com/ruby-concurrency/concurrent-ruby">Concurent-ruby</a> – еще один набор классов</li>
  <li><a href="https://github.com/makaroni4/sandi_meter">SandiMeter</a> – статический анализатор ruby-кода в соответсвии с правилам Седи</li>
  <li><a href="https://github.com/NoamB/sorcery">sorcery</a>  – аутентификенция</li>
  <li><a href="http://www.elasticsearch.org/">Elasticsearch</a> – быстрый поиск</li>
  <li><a href="https://github.com/toptal/chewy">Chewy</a> – ruby-библиотека для Elasticsearch</li>
</ul>

<p>Книги:</p>

<ul>
  <li><a href="http://martinfowler.com/articles/enterprisePatterns.html">Patterns in Enterprise Software</a></li>
  <li><a href="https://pragprog.com/book/d-kegrap/growing-rails-applications-in-practice">Growing Rails Applications in Practice</a></li>
  <li><a href="http://objectsonrails.com/">Objects on Rails</a></li>
  <li><a href="https://pragprog.com/book/jsthreads/working-with-ruby-threads">Working with Ruby Threads</a></li>
  <li><a href="http://www.poodr.com/">Practical Object-Oriented Design in Ruby</a></li>
</ul>



  </article>

  <br />
  <br />
  <br />
  <hr />
  <br />
  <table class="no-border" width="100%">
    <tr>
      <td valign="top">
        
          <h2 style="font-size: 300%">Комментарии</h2>
        
      </td>
      <td align="right" valign="top">
        
          <br />
          <script type="text/javascript" src="/js/orphus.js"></script>
          <a href="http://www.orphus.ru" id="orphus" target="_blank"><img alt="Система Orphus" src="/images/orphus.gif" border="0" width="257" height="48" /></a>
        
      </td>
    </tr>
  </table>


  <script src="/js/toc.min.js"></script>


  <script type="text/javascript">
    var article_length = $(".post-content").text().length;

    if(article_length > 2200) {
      $("#toc-container").show();
      $("#toc").toc({
        'selectors': 'h2,h3',
        'container': '.post-content'
      });
    }
  </script>


  

    <a name="comments"></a>

<div id="hypercomments_widget"></div>
<script type="text/javascript">
_hcwp = window._hcwp || [];
_hcwp.push({
  widget:"Stream",
  
widget_id: 14320
});


(function() {
if("HC_LOAD_INIT" in window)return;
HC_LOAD_INIT = true;
var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || "en").substr(0, 2).toLowerCase();
var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://w.hypercomments.com/widget/hc/14320/"+lang+"/widget.js";
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(hcc, s.nextSibling);
})();
</script>
<a href="http://hypercomments.com" class="hc-link" title="comments widget">технология комментариев HyperComments</a>

  
</div>

<div style="text-align: center; padding: 50px 0px 50px 0px; border: dotted 1px #888 ">
  <center>
    <table class="no-border">
      <tr>
        <td>
          <span style="font-size: 55px"><i class="fa fa-envelope-o"></i></span>
        </td>
        <td>

          <form action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=sergei-udalov', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true"><p>Уведомить о новой статье по email:<br /> <input type="text" placeholder="Ваш email" style="width:140px" name="email"/><input type="hidden" value="sergei-udalov" name="uri"/> <input type="hidden" name="loc" value="ru_RU"/> <input type="submit" value="Подписаться" /></form>
        </td>
      </tr>
    </table>
  </center>

</div>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap wrap-footer">

    <div class="footer-col-1 column ">
      2013-2014 &copy; <a href="/" style="color:black">Сергей Удалов</a>
      <div class="pages">
        
          
            <a class="page-link capitalize" style="color:black" href="/about/">Обо мне</a>
            <br />
          
        
          
        
          
        
          
            <a class="page-link capitalize" style="color:black" href="/политика/index.html">политика</a>
            <br />
          
        
          
            <a class="page-link capitalize" style="color:black" href="/история/index.html">история</a>
            <br />
          
        
          
            <a class="page-link capitalize" style="color:black" href="/tech/index.html">tech</a>
            <br />
          
        
      </div>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="http://feeds.feedburner.com/sergei-udalov">
            <i class="fa fa-rss-square"></i>
            <span class="username">подписаться на RSS</span>
          </a>
        </li>
      </ul>

      <div class="social_links"  style="">
  <span><a href="mailto:sergei.udalov@gmail.com"><i class="fa fa-envelope-o"></i></a></span>
  <span><a href="https://vk.com/r_wilco"><i class="fa fa-vk"></i></a></span>
  <span><a href="https://twitter.com/SergeiUdalov"><i class="fa fa-twitter"></i></a></span>
  <span><a href="https://www.facebook.com/sergei.udalov"><i class="fa fa-facebook-square"></i></a></span>
  <span><a href="http://www.youtube.com/user/neoguy1"><i class="fa fa-youtube-play"></i></a></span>
  <span><a href="https://github.com/sergio-fry"><i class="fa fa-github"></i></a></span>
</div>


      <!-- Участник рейтинга сайтов НОД http://nodtop.russianpulse.ru/ -->
<!-- Код для сайта www.sergei-udalov.ru -->
<span id="nodtop_counter_container"></span>
<script>
//<![CDATA[
window.nodtop_cnt = {
id: "qKzwjp",
    container_id: "nodtop_counter_container",
    type: 4
}
//]]>
</script>
<script src="//sergio-fry.github.io/nodtop-counter-site/counter/v1/cnt.js" defer="defer"></script>


    </div>

    <div class="footer-col-3 column">
      <p class="text">Мои статьи о политике, истории и программировании. Давайте разбираться и обсуждать.</p>
    </div>

  </div>

</footer>

    <!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
 (w[c] = w[c] || []).push(function() {
   try {
   w.yaCounter4946662 = new Ya.Metrika({id:4946662,
     trackLinks:true,
     accurateTrackBounce:true});
   } catch(e) { }
   });

 var n = d.getElementsByTagName("script")[0],
 s = d.createElement("script"),
 f = function () { n.parentNode.insertBefore(s, n); };
 s.type = "text/javascript";
 s.async = true;
 s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

 if (w.opera == "[object Opera]") {
 d.addEventListener("DOMContentLoaded", f, false);
 } else { f(); }
 })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/4946662" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->


    </body>
</html>
